(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(22),c=a.n(n),l=a(7),o=a(4),i=a(19),d=a(40),u=a(41),b=a(2),m="REGISTER_SUCCESS",j="LOGIN_SUCCESS",x="LOGIN_FAIL",p="REGISTER_FAIL",h="DELETE_USER",g="USER_LOADED",f="CLEAR_ERRORS",O="LOGOUT",v="GET_POSTS",y="SET_LOADING",w="GET_FEED",N="FIND_PEOPLE",k="POSTS_ERROR",D="ADD_POST",C="DELETE_POST",L="UPDATE_LIKES",P="ADD_COMMENT",E="REMOVE_COMMENT",_={token:localStorage.getItem("token"),isAuthenticated:!1,error:null,user:null},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:!0,user:t.payload});case j:case m:return localStorage.setItem("token",t.payload.token),Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isAuthenticated:!0});case x:case p:case h:case O:return localStorage.removeItem("token"),Object(b.a)(Object(b.a)({},e),{},{token:null,isAuthenticated:!1,error:t.payload,user:null});case f:return Object(b.a)(Object(b.a)({},e),{},{error:null});default:return e}},R={posts:[],feed:[],loading:!0,error:null,findPeople:null,newPostAdded:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(b.a)(Object(b.a)({},e),{},{posts:t.payload,newPostAdded:!1,loading:!1});case w:return Object(b.a)(Object(b.a)({},e),{},{feed:t.payload,loading:!1});case D:return Object(b.a)(Object(b.a)({},e),{},{newPostAdded:!0,posts:[t.payload]});case C:return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==t.payload}))});case k:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});case L:return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload.postId?Object(b.a)(Object(b.a)({},e),{},{likes:t.payload.likes}):e}))});case P:return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload.postId?Object(b.a)(Object(b.a)({},e),{},{comments:t.payload.comments}):e}))});case E:return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload.postId?Object(b.a)(Object(b.a)({},e),{},{comments:e.comments.filter((function(e){return e._id!==t.payload.commentId}))}):e}))});case y:return Object(b.a)(Object(b.a)({},e),{},{loading:!1});default:return e}},A={findPeople:[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(b.a)(Object(b.a)({},e),{},{findPeople:t.payload});default:return e}},T=Object(i.combineReducers)({userData:S,postsData:I,findPeopleData:U}),F=[u.a],M=Object(i.createStore)(T,{},Object(d.composeWithDevTools)(i.applyMiddleware.apply(void 0,F))),B=a(9),H=a(3),V=a.n(H),G=a(8),Z=a(6),W=a.n(Z),Y=function(e){e?W.a.defaults.headers.common["x-auth-token"]=e:delete W.a.defaults.headers.common["x-auth-token"]},z=function(){return function(){var e=Object(G.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&Y(localStorage.token),e.prev=1,e.next=4,W.a.get("/api/posts");case 4:a=e.sent,t({type:v,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:k,payload:e.t0.response.data.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(G.a)(V.a.mark((function t(a){var s;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.token&&Y(localStorage.token),t.prev=1,t.next=4,W.a.get("/api/posts/feed/".concat(e));case 4:s=t.sent,a({type:w,payload:s.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),a({type:k,payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},J=function(){return function(e){try{e({type:y})}catch(t){console.error(t)}}},X=function(){return function(){var e=Object(G.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/api/auth/current_user");case 3:a=e.sent,t({type:m,payload:a.data}),setTimeout((function(){t(J())}),1800),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),t({type:p,payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},K=function(){return function(){var e=Object(G.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&Y(localStorage.token),e.prev=1,e.next=4,W.a.get("/api/auth");case 4:a=e.sent,t({type:g,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},Q=a(42),$=a(0),ee=Object(o.b)((function(e){return{userData:e.userData}}),null)((function(e){var t=e.userData,a=e.component,s=Object(Q.a)(e,["userData","component"]);return Object($.jsx)(B.b,Object(b.a)(Object(b.a)({},s),{},{render:function(e){return t.isAuthenticated?Object($.jsx)(a,Object(b.a)({},e)):Object($.jsx)(B.a,{to:"/login"})}}))})),te=a(10),ae=a(78),se=a(24),re=a.n(se),ne=Object(o.b)((function(e){return{userData:e.userData.user}}),{removeComment:function(e,t,a){return function(){var s=Object(G.a)(V.a.mark((function s(r){return V.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,W.a.put("/api/posts/uncomment/".concat(e,"/").concat(a));case 3:r({type:E,payload:{postId:e,commentId:a}}),r(q(t)),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),r({type:k,payload:s.t0});case 10:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(e){return s.apply(this,arguments)}}()}})((function(e){var t=e.comment,a=e.postId,s=e.removeComment,r=e.userData;return Object($.jsxs)("div",{className:"bg-white rounded-lg p-3 w-full\r shadow-lg mb-2",children:[Object($.jsxs)("div",{className:"flex flex-row",children:[Object($.jsx)("img",{className:"w-10 h-10 object-cover rounded-full shadow \r cursor-pointer",alt:"User avatar",src:t.postedBy.avatarURL?t.postedBy.avatarURL:"https://s.clipartkey.com/mpngs/s/152-1520367_user-profile-default-image-png-clipart-png-download.png"}),Object($.jsxs)("div",{className:"flex flex-col mb-2 ml-4 mt-1",children:[Object($.jsx)("div",{className:"text-gray-600 text-lg font-semibold",children:t.postedBy.name}),Object($.jsx)("div",{className:"flex w-full mt-1",children:Object($.jsx)("div",{className:"text-gray-600 font-thin text-xs",children:re()(t.created).fromNow()})})]})]}),Object($.jsxs)("p",{className:"text-gray-600 text-lg ",children:[t.comment,r&&r._id===t.postedBy._id?Object($.jsx)("span",{className:"float-right",children:Object($.jsx)("button",{className:"btn block float-right hover:bg-red-500\r border-2 border-red-200 outline-none rounded p-1",onClick:function(){return s(a,r._id,t._id)},children:Object($.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"round",children:[Object($.jsx)("polyline",{points:"3 6 5 6 21 6"}),Object($.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),Object($.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object($.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})}):""]})]})})),ce=(a(74),function(e){var t=e.toastProp,a=e.setToast;Object(s.useEffect)((function(){var e=document.getElementById("snackbar");e.className="show",setTimeout((function(){e.className=e.className.replace("show",""),t&&a({type:"",message:""})}),3e3)}));var r=Object($.jsx)("div",{id:"snackbar",children:Object($.jsxs)("div",{className:"flex w-full max-w-sm mx-auto \r overflow-hidden bg-gray-200 rounded-lg ",children:[Object($.jsx)("div",{className:"flex items-center justify-center w-12 bg-green-500",children:Object($.jsx)("svg",{className:"w-6 h-6 text-white fill-current",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",children:Object($.jsx)("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"})})}),Object($.jsx)("div",{className:"px-4 py-2 -mx-3",children:Object($.jsxs)("div",{className:"mx-3",children:[Object($.jsx)("span",{className:"font-semibold text-green-600 dark:text-green-400",children:"Success"}),Object($.jsx)("p",{className:"text-sm text-black-700",children:t.message})]})})]})}),n=Object($.jsx)("div",{id:"snackbar",children:Object($.jsxs)("div",{className:"flex w-full max-w-sm mx-auto overflow-hidden bg-white rounded-lg shadow-md dark:bg-gray-800",children:[Object($.jsx)("div",{className:"flex items-center justify-center w-12 bg-yellow-400",children:Object($.jsx)("svg",{className:"w-6 h-6 text-white fill-current",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",children:Object($.jsx)("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})})}),Object($.jsx)("div",{className:"px-4 py-2 -mx-3",children:Object($.jsxs)("div",{className:"mx-3",children:[Object($.jsx)("span",{className:"font-semibold text-yellow-400 dark:text-yellow-300",children:"Warning"}),Object($.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-200",children:t.message})]})})]})}),c=Object($.jsx)("div",{id:"snackbar",children:Object($.jsxs)("div",{className:"flex w-full max-w-sm mx-auto overflow-hidden bg-white rounded-lg shadow-md dark:bg-gray-800",children:[Object($.jsx)("div",{className:"flex items-center justify-center w-12 bg-blue-500",children:Object($.jsx)("svg",{className:"w-6 h-6 text-white fill-current",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",children:Object($.jsx)("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})})}),Object($.jsx)("div",{className:"px-4 py-2 -mx-3",children:Object($.jsxs)("div",{className:"mx-3",children:[Object($.jsx)("span",{className:"font-semibold text-blue-500 dark:text-blue-400",children:"Info"}),Object($.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-200",children:t.message})]})})]})}),l=Object($.jsx)("div",{id:"snackbar",children:Object($.jsxs)("div",{className:"flex w-full max-w-sm mx-auto overflow-hidden bg-white rounded-lg shadow-md dark:bg-gray-800",children:[Object($.jsx)("div",{className:"flex items-center justify-center w-12 bg-red-500",children:Object($.jsx)("svg",{className:"w-6 h-6 text-white fill-current",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",children:Object($.jsx)("path",{d:"M20 3.36667C10.8167 3.36667 3.3667 10.8167 3.3667 20C3.3667 29.1833 10.8167 36.6333 20 36.6333C29.1834 36.6333 36.6334 29.1833 36.6334 20C36.6334 10.8167 29.1834 3.36667 20 3.36667ZM19.1334 33.3333V22.9H13.3334L21.6667 6.66667V17.1H27.25L19.1334 33.3333Z"})})}),Object($.jsx)("div",{className:"px-4 py-2 -mx-3",children:Object($.jsxs)("div",{className:"mx-3",children:[Object($.jsx)("span",{className:"font-semibold text-red-500 dark:text-red-400",children:"Error"}),Object($.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-200",children:t.message})]})})]})});return Object($.jsxs)("div",{children:["warning"===t.type?n:l,"error"===t.type?l:"","success"===t.type?r:"","info"===t.type?c:l]})}),le=Object(o.b)((function(e){return{userId:e.userData.user}}),{getPosts:z,addLike:function(e,t){return function(){var a=Object(G.a)(V.a.mark((function a(s){var r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,W.a.put("/api/posts/like/".concat(e));case 3:r=a.sent,s({type:L,payload:{postId:e,likes:r.data}}),s(q(t)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),s({type:k,payload:{msg:a.t0}});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},removeLike:function(e,t){return function(){var a=Object(G.a)(V.a.mark((function a(s){var r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,W.a.put("/api/posts/unlike/".concat(e));case 3:r=a.sent,s({type:L,payload:{postId:e,likes:r.data}}),s(q(t)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),s({type:k,payload:{msg:a.t0}});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},addComment:function(e,t,a){return function(){var s=Object(G.a)(V.a.mark((function s(r){var n,c;return V.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n={headers:{"Content-Type":"application/json"}},s.prev=1,s.next=4,W.a.put("/api/posts/comment/".concat(e),a,n);case 4:c=s.sent,r({type:P,payload:{postId:e,comments:c.data}}),r(q(t)),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(1),console.log(s.t0),r({type:k,payload:s.t0});case 13:case"end":return s.stop()}}),s,null,[[1,9]])})));return function(e){return s.apply(this,arguments)}}()},deletePost:function(e){return function(){var t=Object(G.a)(V.a.mark((function t(a){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.a.delete("/api/posts/".concat(e));case 3:a({type:C,payload:e}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),a({type:k,payload:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.postData,a=e.addLike,r=e.removeLike,n=e.addComment,c=e.deletePost,l=e.userId,o=t.likes,i=t.comments,d=t.created,u=t.postTitle,m=t.posterName,j=t.postedBy,x=t.postDesc,p=t.postImageURL,h=t._id,g=Object(s.useState)(""),f=Object(te.a)(g,2),O=f[0],v=f[1],y=Object(s.useState)({type:"",message:""}),w=Object(te.a)(y,2),N=w[0],k=w[1],D="https://s.clipartkey.com/mpngs/s/152-1520367_user-profile-default-image-png-clipart-png-download.png";return h?Object($.jsxs)(ae.a.div,{className:"m-2 my-4",layout:!0,children:[Object($.jsx)("div",{className:"flex max-w-xl  rounded-lg overflow-hidden mx-auto\r border-2 border-gray-200",children:Object($.jsx)("div",{className:"flex items-center w-full",children:Object($.jsxs)("div",{className:"w-full",children:[Object($.jsxs)("div",{className:"flex mt-2 px-2 py-3 mx-3",children:[Object($.jsx)("div",{className:"w-auto h-auto rounded-full",children:Object($.jsx)("img",{className:"w-12 h-12 object-cover rounded-full shadow \r cursor-pointer",alt:"User avatar",src:j&&j.avatarURL&&j.avatarURL?j.avatarURL:D})}),Object($.jsxs)("div",{className:"flex flex-col mb-2 ml-4 mt-1",children:[Object($.jsx)("div",{className:"text-gray-600 text-lg font-semibold",children:m}),Object($.jsx)("div",{className:"flex w-full mt-1",children:Object($.jsx)("div",{className:"text-gray-600 font-thin text-xs",children:re()(d).fromNow()})})]})]}),Object($.jsx)("div",{className:"border-b border-gray-100"}),Object($.jsx)("div",{className:"text-gray-400 \r font-medium text-sm mb-7 mt-6 mx-3 px-2",children:Object($.jsx)(ae.a.img,{className:"rounded",src:p,alt:"",initial:{opacity:0},animate:{opacity:1}})}),Object($.jsx)("div",{className:"text-gray-600 font-semibold text-lg mb-2 mx-3 px-2",children:u}),Object($.jsx)("div",{className:"text-gray-500 font-thin text-sm mb-6 mx-3 px-2",children:x}),Object($.jsxs)("div",{className:"flex w-full border-t border-gray-100",children:[Object($.jsx)("div",{className:"mt-3 mx-5 flex flex-row",children:Object($.jsxs)("div",{className:"flex text-gray-700 font-normal text-sm rounded-md mb-2 mr-4 items-center",children:[Object($.jsx)("span",{className:"material-icons",children:"comment_bank"}),"Comments:",Object($.jsx)("div",{className:"ml-1 text-gray-400 font-thin text-ms",children:i&&i.length})]})}),Object($.jsx)("div",{className:"mt-3 mx-5 w-full flex justify-end",children:Object($.jsxs)("div",{className:"flex text-gray-700 \r font-normal text-sm rounded-md mb-2 mr-4 items-center",children:[Object($.jsx)("span",{className:"material-icons cursor-pointer rounded-lg\r block bg-white px-2 py-2 border border-gray-300\r hover:bg-green-400",onClick:function(){return a(h&&h,l&&l._id)},children:"thumb_up_alt"}),Object($.jsx)("span",{className:"ml-1 material-icons cursor-pointer rounded-lg\r block bg-white p-2 border border-gray-300\r hover:bg-red-500",onClick:function(){return r(h&&h,l&&l._id)},children:"thumb_down_alt"}),Object($.jsx)("div",{className:"ml-1  ",children:o&&o.length>0&&Object($.jsx)("span",{children:o.length})})]})}),l&&l._id&&l._id===j._id?Object($.jsx)("div",{className:"mx-auto mt-4 mr-4",children:Object($.jsx)("button",{className:"btn p-1 rounded-lg border-2\r border-red-100 hover:bg-red-500",onClick:function(){return c(h&&h)},children:Object($.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"round",children:[Object($.jsx)("polyline",{points:"3 6 5 6 21 6"}),Object($.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),Object($.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object($.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})}):""]}),i.length>0&&Object($.jsx)("div",{className:"overflow-y-auto h-32 border-t border-gray-200",children:i.length>0&&i.map((function(e){return Object($.jsx)(ne,{comment:e,postId:h&&h},e._id)}))}),Object($.jsxs)("form",{className:"relative flex items-center \r self-center w-full max-w-xl p-4 overflow-hidden \r text-gray-600 focus-within:text-gray-400",onSubmit:function(e){e.preventDefault(),O?(n(h&&h,l._id,{comment:O}),v("")):k(Object(b.a)(Object(b.a)({},N),{},{type:"warning",message:"Please enter a comment!"}))},children:[Object($.jsx)("img",{className:"w-10 h-10 object-cover rounded-full shadow mr-2 cursor-pointer",alt:"User avatar",src:l&&l.avatarURL&&l.avatarURL?l.avatarURL:D}),Object($.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-6",children:Object($.jsx)("button",{type:"submit",className:"p-1 focus:outline-none rounded hover:bg-blue-400",children:Object($.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"round",children:Object($.jsx)("polyline",{points:"20 6 9 17 4 12"})})})}),Object($.jsx)("input",{type:"search",className:"w-full py-2 pl-4 pr-10 text-sm \r bg-gray-100 border border-transparent \r appearance-none rounded-lg placeholder-gray-400 \r focus:bg-white focus:outline-none \r focus:border-blue-500 focus:text-gray-900 \r focus:shadow-outline-blue",placeholder:"Post a comment...",autoComplete:"off",name:"comment",value:O,onChange:function(e){v(e.target.value)}})]})]})})}),N.message.length>0?Object($.jsx)(ce,{toastProp:N,setToast:k}):null]}):null})),oe=(a(75),function(){return Object($.jsx)("div",{className:"w-full h-full fixed block top-0 left-0 bg-white opacity-75 z-50",children:Object($.jsx)("div",{className:"text-blue-500\r top-1/2 my-0 mx-auto block relative w-0 h-0",style:{top:"50%"},children:Object($.jsx)("div",{className:"spinner-3"})})})}),ie=Object(o.b)((function(e){return{feed:e.postsData.feed,userId:e.userData.user,isLoading:e.postsData.loading}}),{feedPosts:q})((function(e){var t=e.feedPosts,a=e.feed,r=e.userId,n=e.isLoading;return Object(s.useEffect)((function(){r&&t(r._id)}),[t,r]),n?Object($.jsx)(oe,{}):Object($.jsx)("div",{children:0===a.length?Object($.jsx)("p",{children:"Start following some one to get feed..."}):a.map((function(e){return Object($.jsx)(le,{postData:e},e._id)}))})})),de=function(){return Object($.jsxs)("div",{children:[Object($.jsx)("p",{className:"text-gray-600 text-lg font-semibold mx-4 my-2",children:"Your Feed:"}),Object($.jsx)(ie,{})]})},ue=Object(o.b)((function(e){return{userData:e.userData}}),{logout:function(){return function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/api/auth/logout");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:t({type:O});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.logout,a=e.userData;Object(s.useEffect)((function(){document.getElementById("nav-items").classList.add("hidden")}));var r=a.isAuthenticated,n=Object($.jsxs)("div",{className:"flex items-center py-2 -mx-1 md:mx-0",children:[Object($.jsx)(l.b,{className:"block w-1/2 px-3 py-2 mx-1 text-sm font-medium leading-5 text-center text-white transition-colors duration-200 transform bg-gray-500 rounded-md hover:bg-blue-600 md:mx-2 md:w-auto",to:"/login",children:"Login"}),Object($.jsx)(l.b,{className:"block w-1/2 px-3 py-2 mx-1 text-sm font-medium \r leading-5 text-center text-white transition-colors \r duration-200 transform bg-blue-500 \r rounded-md hover:bg-blue-600 md:mx-0 md:w-auto",to:"/register",children:"Register"})]}),c=Object($.jsx)("div",{className:"flex items-center py-2 -mx-1 md:mx-0",children:Object($.jsx)("button",{className:"block w-1/2 px-3 py-2 mx-1\r text-sm font-medium\r leading-5 text-center text-white \r transition-colors duration-200 transform \r bg-red-500 rounded-md hover:bg-blue-400 md:mx-0 md:w-auto",type:"button",onClick:function(){return t()},children:"Logout"})}),o=Object($.jsxs)("div",{className:"flex flex-col mt-2 md:flex-row md:mt-0 md:mx-1",children:[Object($.jsx)(l.b,{className:"my-1 text-sm font-semibold leading-5 text-gray-700 \r hover:text-blue-600\r hover:underline md:mx-4 md:my-0",to:"/",children:"Your Feed"}),Object($.jsx)(l.b,{className:"my-1 text-sm font-semibold leading-5 text-gray-700 \r hover:text-blue-600\r hover:underline md:mx-4 md:my-0",to:"/my-posts",children:"My Posts"}),Object($.jsx)(l.b,{className:"my-1 text-sm font-semibold leading-5 text-gray-700 \r hover:text-blue-600\r hover:underline md:mx-4 md:my-0",to:"/add-post",children:"Add Post"}),Object($.jsx)(l.b,{className:"my-1 text-sm font-semibold leading-5 text-gray-700 \r hover:text-blue-600\r hover:underline md:mx-4 md:my-0",to:"/find-people",children:"Find People"}),Object($.jsx)(l.b,{className:"my-1 text-sm font-semibold leading-5 text-gray-700 \r hover:text-blue-600\r hover:underline md:mx-4 md:my-0",to:"/profile",children:"View Profile"}),Object($.jsx)(l.b,{className:"my-1 text-sm font-semibold leading-5 text-gray-700 \r hover:text-blue-600\r hover:underline md:mx-4 md:my-0",to:"/edit-profile",children:"Edit Profile"}),Object($.jsx)("div",{children:Object($.jsx)("img",{alt:"profil",src:a.user&&a.user.avatarURL?a.user.avatarURL:"https://s.clipartkey.com/mpngs/s/152-1520367_user-profile-default-image-png-clipart-png-download.png",className:" object-cover rounded-full h-8 w-8 md:mx-4 md:my-0 "})})]});return Object($.jsx)("div",{children:Object($.jsx)("nav",{className:"bg-white shadow dark:bg-gray-800 mb-5",children:Object($.jsx)("div",{className:"container px-6 py-3 mx-auto",children:Object($.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center",children:[Object($.jsxs)("div",{className:"flex items-center justify-between",children:[Object($.jsxs)("div",{className:"flex items-center",children:[Object($.jsx)("img",{src:"https://res.cloudinary.com/dk2jrkbwg/image/upload/v1621674099/xing-pngrepo-com_usk2r7.png",className:" h-8 w-8 mr-2",alt:""}),Object($.jsx)(l.b,{className:"text-xl font-bold text-gray-800 dark:text-white md:text-2xl hover:text-gray-700 dark:hover:text-gray-300",to:"/",children:"Social-App"})]}),Object($.jsx)("div",{className:"flex md:hidden",onClick:function(){document.getElementById("nav-items").classList.toggle("hidden")},children:Object($.jsx)("button",{type:"button",className:"text-gray-500 dark:text-gray-200 hover:text-gray-600 dark:hover:text-gray-400 focus:outline-none focus:text-gray-600 dark:focus:text-gray-400","aria-label":"toggle menu",children:Object($.jsx)("svg",{viewBox:"0 0 24 24",className:"w-6 h-6 fill-current",children:Object($.jsx)("path",{fillRule:"evenodd",d:"M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"})})})})]}),Object($.jsxs)("div",{className:"items-center md:flex ",id:"nav-items",children:[r?o:null,Object($.jsx)("div",{className:"",children:r?c:n})]})]})})})})})),be=a(18),me=Object(o.b)((function(e){return{userData:e.userData}}),{login:function(e){return function(){var t=Object(G.a)(V.a.mark((function t(a){var s,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={headers:{ContentType:"application/json"}},t.prev=1,t.next=4,W.a.post("api/auth",e,s);case 4:r=t.sent,a({type:j,payload:r.data}),a(K()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:x,payload:t.t0.response.data.msg});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},clearErrors:function(){return function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:f});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},signInWithGoogle:X})((function(e){var t=e.login,a=e.userData,r=e.clearErrors,n=(e.signInWithGoogle,a.isAuthenticated),c=a.error,o=Object(s.useState)({type:"",message:""}),i=Object(te.a)(o,2),d=i[0],u=i[1],m=Object(s.useState)({email:"",password:""}),j=Object(te.a)(m,2),x=j[0],p=j[1],h=x.email,g=x.password;Object(s.useEffect)((function(){n?u(Object(b.a)(Object(b.a)({},d),{},{type:"info",message:"Logged In Successfully!"})):"Invalid Credentials!"===c&&(u(Object(b.a)(Object(b.a)({},d),{},{type:"error",message:"Invalid Credentials!"})),r())}),[n,c,d]);var f=function(e){p(Object(b.a)(Object(b.a)({},x),{},Object(be.a)({},e.target.name,e.target.value)))};return n?Object($.jsx)(B.a,{to:"/"}):Object($.jsxs)("div",{children:[Object($.jsx)("section",{className:"flex flex-col md:flex-row h-screen items-center mt-10",children:Object($.jsx)("div",{className:"bg-gray-50 shadow-2xl\r border-rounded-l w-full \r md:max-w-md lg:max-w-full \r md:mx-auto md:mx-0 md:w-1/2 xl:w-1/3 h-screen \r px-6 lg:px-16 xl:px-12\r flex items-center justify-center",children:Object($.jsxs)("div",{className:"w-full h-100  \r ",children:[Object($.jsxs)("h1",{className:"text-2xl\r md:text-2xl\r sm:text-2xl \r font-bold leading-tight text-center",children:[Object($.jsx)("span",{className:"text-blue-700",children:"Login "})," to Your"," ",Object($.jsx)("span",{className:"text-blue-700",children:"Account"})]}),Object($.jsxs)("form",{className:"mt-6",onSubmit:function(e){e.preventDefault(),h&&g?g.length<=6&&u(Object(b.a)(Object(b.a)({},d),{},{type:"warning",message:"Please enter a password with more than 7 characters!"})):u(Object(b.a)(Object(b.a)({},d),{},{type:"warning",message:"Please enter all fields to continue!"})),t({email:h,password:g}),p({email:"",password:""})},children:[Object($.jsxs)("div",{children:[Object($.jsx)("label",{className:"block text-gray-700 text-lg",children:"Email Address"}),Object($.jsx)("input",{type:"email",name:"email",value:h,onChange:f,placeholder:"Enter Email Address",className:"w-full px-4 py-3 rounded-lg bg-gray-200 mt-2 border focus:border-blue-500 focus:bg-white focus:outline-none",autoFocus:!0})]}),Object($.jsxs)("div",{className:"mt-4",children:[Object($.jsx)("label",{className:"block text-gray-700 text-lg",children:"Password"}),Object($.jsx)("input",{type:"password",name:"password",value:g,onChange:f,placeholder:"Enter Password",className:"w-full px-4 py-3 rounded-lg bg-gray-200 mt-2 border focus:border-blue-500\r focus:bg-white focus:outline-none"})]}),Object($.jsx)("button",{type:"submit",className:"w-full block bg-indigo-500 text-lg hover:bg-indigo-400 focus:bg-indigo-400 text-white font-semibold rounded-lg\r px-4 py-3 mt-6",children:"Log In"})]}),Object($.jsx)("hr",{className:"my-6 border border-gray-300 w-full"}),Object($.jsx)("a",{href:"/api/auth/google",className:"w-full \r block bg-white hover:bg-gray-100\r focus:bg-gray-100 text-gray-900\r font-semibold rounded-lg px-4 py-3 border border-gray-300",children:Object($.jsxs)("div",{className:"flex items-center justify-center",children:[Object($.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",focusable:"false",width:"0.98em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 262",children:[Object($.jsx)("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622l38.755 30.023l2.685.268c24.659-22.774 38.875-56.282 38.875-96.027",fill:"#4285F4"}),Object($.jsx)("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055c-34.523 0-63.824-22.773-74.269-54.25l-1.531.13l-40.298 31.187l-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1",fill:"#34A853"}),Object($.jsx)("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82c0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782",fill:"#FBBC05"}),Object($.jsx)("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0C79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251",fill:"#EB4335"})]}),Object($.jsx)("span",{className:"ml-4 ",children:"Log in with Google"})]})}),Object($.jsxs)("p",{className:"mt-8",children:["Need an account?"," ",Object($.jsx)(l.b,{to:"/register",className:"text-blue-500 hover:text-blue-700 font-semibold",children:"Create an account"})]})]})})}),d.message.length>0?Object($.jsx)(ce,{toastProp:d,setToast:u}):null]})})),je=Object(o.b)((function(e){return{userData:e.userData}}),{register:function(e){return function(){var t=Object(G.a)(V.a.mark((function t(a){var s,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={headers:{ContentType:"application/json"}},t.prev=1,t.next=4,W.a.post("/api/users",e,s);case 4:r=t.sent,a({type:m,payload:r.data}),a(J()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:p,payload:t.t0.response.data.msg});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.register,a=e.userData,r=a.isAuthenticated,n=a.error,c=Object(s.useState)({type:"",message:""}),o=Object(te.a)(c,2),i=o[0],d=o[1];Object(s.useEffect)((function(){r?d(Object(b.a)(Object(b.a)({},i),{},{type:"warning",message:"Please enter a paaword with more than 7 characters!"})):"User already exists!"===n&&d(Object(b.a)(Object(b.a)({},i),{},{type:"error",message:"User already exists!"}))}),[r,n,i]);var u=Object(s.useState)({name:"",email:"",password:"",password2:""}),m=Object(te.a)(u,2),j=m[0],x=m[1],p=j.name,h=j.email,g=j.password,f=j.password2,O=function(e){x(Object(b.a)(Object(b.a)({},j),{},Object(be.a)({},e.target.name,e.target.value)))};return r?Object($.jsx)(B.a,{to:"/"}):Object($.jsxs)("div",{children:[Object($.jsx)("section",{className:"flex flex-col md:flex-row h-screen items-center mt-10",children:Object($.jsx)("div",{className:"bg-gray-50 shadow-2xl\r border-rounded-l w-full \r md:max-w-md lg:max-w-full \r md:mx-auto md:mx-0 md:w-1/2 xl:w-1/3 h-screen \r px-6 lg:px-16 xl:px-12\r flex items-center justify-center",children:Object($.jsxs)("div",{className:"w-full h-100  \r ",children:[Object($.jsxs)("h1",{className:"text-2xl\r md:text-2xl\r sm:text-2xl \r font-bold leading-tight text-center",children:["Please ",Object($.jsx)("span",{className:"text-blue-700",children:"Register "})," to Continue"," "]}),Object($.jsxs)("form",{className:"mt-6",onSubmit:function(e){e.preventDefault(),p&&h&&g&&f?g!==f?d(Object(b.a)(Object(b.a)({},i),{},{type:"warning",message:"Please confirm your password!"})):(g.length<=6||f.length<=6)&&d(Object(b.a)(Object(b.a)({},i),{},{type:"warning",message:"Please enter a paaword with more than 7 characters!"})):(console.log("Please enter all fields"),d(Object(b.a)(Object(b.a)({},i),{},{type:"warning",message:"Please enter all fields to continue!"}))),t({name:p,email:h,password:g}),x({name:"",email:"",password:"",password2:""})},children:[Object($.jsxs)("div",{children:[Object($.jsx)("label",{className:"block text-gray-700 text-lg",children:"Full Name"}),Object($.jsx)("input",{type:"text",name:"name",onChange:O,value:p,placeholder:"Enter Your Name",className:"w-full px-4 py-3\r rounded-lg bg-gray-200 \r mt-2 border\r focus:border-blue-500 focus:bg-white focus:outline-none"})]}),Object($.jsxs)("div",{children:[Object($.jsx)("label",{className:"block mt-3 text-gray-700 text-lg",children:"Email Address"}),Object($.jsx)("input",{type:"email",name:"email",onChange:O,value:h,placeholder:"Enter Email Address",className:"w-full px-4 py-3 rounded-lg \r bg-gray-200 mt-2 border \r focus:border-blue-500 focus:bg-white focus:outline-none"})]}),Object($.jsxs)("div",{className:"mt-4",children:[Object($.jsx)("label",{className:"block text-gray-700 text-lg",children:"Password"}),Object($.jsx)("input",{type:"password",name:"password",onChange:O,value:g,placeholder:"Enter Password",className:"w-full px-4 py-3 rounded-lg bg-gray-200 mt-2 border focus:border-blue-500\r focus:bg-white focus:outline-none"})]}),Object($.jsxs)("div",{children:[Object($.jsx)("label",{className:"block mt-3 text-gray-700 text-lg",children:"Confirm Password"}),Object($.jsx)("input",{type:"password",name:"password2",onChange:O,value:f,placeholder:"Confirm Password",className:"w-full px-4 py-3 rounded-lg bg-gray-200 mt-2 border focus:border-blue-500 focus:bg-white focus:outline-none"})]}),Object($.jsx)("button",{type:"submit",className:"w-full block bg-indigo-500 text-lg hover:bg-indigo-400 focus:bg-indigo-400 text-white font-semibold rounded-lg\r px-4 py-3 mt-6",children:"Register"})]}),Object($.jsx)("hr",{className:"my-6 border border-gray-300 w-full"}),Object($.jsx)("a",{href:"/api/auth/google",className:"w-full block bg-white hover:bg-gray-100 focus:bg-gray-100 text-gray-900 font-semibold rounded-lg px-4 py-3 border border-gray-300",children:Object($.jsxs)("div",{className:"flex items-center justify-center",children:[Object($.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",focusable:"false",width:"0.98em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 262",children:[Object($.jsx)("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622l38.755 30.023l2.685.268c24.659-22.774 38.875-56.282 38.875-96.027",fill:"#4285F4"}),Object($.jsx)("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055c-34.523 0-63.824-22.773-74.269-54.25l-1.531.13l-40.298 31.187l-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1",fill:"#34A853"}),Object($.jsx)("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82c0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782",fill:"#FBBC05"}),Object($.jsx)("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0C79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251",fill:"#EB4335"})]}),Object($.jsx)("span",{className:"ml-4 ",children:"Continue with Google"})]})}),Object($.jsxs)("p",{className:"m-8",children:["Have an Account?"," ",Object($.jsx)(l.b,{to:"/login",className:"text-blue-500 hover:text-blue-700 font-semibold",children:"Than Login"})]})]})})}),i.message.length>0?Object($.jsx)(ce,{toastProp:i,setToast:d}):null]})})),xe=Object(o.b)((function(e){return{userData:e.userData,postData:e.postsData}}),{addPost:function(e,t){return function(){var a=Object(G.a)(V.a.mark((function a(s){var r,n;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{ContentType:"application/json"}},a.prev=1,a.next=4,W.a.post("/api/posts/new/".concat(t),e,r);case 4:n=a.sent,s({type:D,payload:n.data}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0),s({type:k,payload:a.t0});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},loadUser:K})((function(e){var t=e.addPost,a=e.userData,r=e.postData,n=e.loadUser;Object(s.useEffect)((function(){n()}),[]);var c=Object(s.useState)({postTitle:"",postDesc:"",image:null}),l=Object(te.a)(c,2),o=l[0],i=l[1],d=Object(s.useState)({type:"",message:""}),u=Object(te.a)(d,2),m=u[0],j=u[1],x=Object(s.useState)(!1),p=Object(te.a)(x,2),h=p[0],g=p[1],f=Object(s.useState)(""),O=Object(te.a)(f,2),v=O[0],y=O[1],w=o.postTitle,N=o.postDesc,k=function(e){i(Object(b.a)(Object(b.a)({},o),{},Object(be.a)({},e.target.name,e.target.value)))},D=["image/jpeg","image/png"];return r.newPostAdded?Object($.jsx)(B.a,{to:"/"}):Object($.jsxs)("div",{children:[Object($.jsx)("div",{className:"heading text-center font-bold text-2xl m-5 text-gray-800",children:"New Post"}),Object($.jsxs)("form",{className:"editor mx-auto w-10/12 flex flex-col text-gray-800 \r border border-gray-300 p-4 \r shadow-lg max-w-2xl",onSubmit:function(e){e.preventDefault(),w&&N?(t(o,a.user._id),i({postTitle:"",postDesc:"",image:null}),g(!0)):j(Object(b.a)(Object(b.a)({},m),{},{type:"warning",message:"Please enter all fields to continue!"}))},children:[Object($.jsx)("input",{className:"title bg-gray-100 border border-gray-300 p-2 \r mb-4 outline-none",placeholder:"Title",type:"text",name:"postTitle",value:w,onChange:k}),Object($.jsx)("textarea",{className:"description bg-gray-100 sec p-3 \r h-60 border border-gray-300 outline-none",placeholder:"Describe everything about this post here",name:"postDesc",value:N,onChange:k}),Object($.jsxs)("div",{className:"mb-2",children:[Object($.jsx)("span",{children:"Attachments"}),Object($.jsxs)("div",{className:"relative h-60 rounded-lg border-dashed border-2 \r border-gray-300 bg-white grid grid-cols-2 \r ",children:[Object($.jsxs)("div",{className:"text-center mt-10 hover:cursor-pointer",children:[Object($.jsxs)("div",{className:"",children:[Object($.jsx)("span",{className:"block text-gray-400 font-normal",children:"Attach your files here"}),Object($.jsx)("span",{className:"block text-gray-400 font-normal",children:"or"}),Object($.jsx)("span",{className:"block text-blue-400 font-normal",children:"Browse files"})]}),Object($.jsx)("input",{type:"file",className:"h-full w-full opacity-0 hover:cursor-pointer",onChange:function(e){var t=e.target.files[0];if(D.includes(t.type)){var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){y(a.result),i(Object(b.a)(Object(b.a)({},o),{},{image:a.result}))}}else i(Object(b.a)(Object(b.a)({},o),{},{image:null})),j(Object(b.a)(Object(b.a)({},m),{},{type:"warning",message:"Please select image of format (jpeg,png) only."}))}})]}),Object($.jsx)("div",{className:"",children:Object($.jsx)("span",{children:v&&Object($.jsx)("img",{src:v,className:"w-full h-60 rounded-lg rounded-b-none \r object-contain\r ",alt:"sjkjsdk"})})})]}),Object($.jsxs)("div",{className:"flex justify-between items-center text-gray-500",children:[Object($.jsx)("span",{children:"Accepted file type:.jpg, .jpeg, .png only"}),Object($.jsxs)("span",{className:"flex items-center ",children:[Object($.jsx)("i",{className:"fa fa-lock mr-1"})," secure"]})]})]}),Object($.jsx)("div",{className:"buttons",children:Object($.jsx)("button",{className:"btn border border-indigo-500 p-1 px-4 \r font-semibold cursor-pointer text-white \r bg-indigo-500 float-right rounded",type:"submit",children:"Post"})})]}),m.message.length>0?Object($.jsx)(ce,{toastProp:m,setToast:j}):null,h&&Object($.jsx)(oe,{})]})})),pe=function(){return function(){var e=Object(G.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/api/users/find-people");case 3:a=e.sent,t({type:N,payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),t({type:k,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},he=Object(o.b)((function(e){return{userData:e.userData.user}}),{unFollow:function(e,t){return function(){var a=Object(G.a)(V.a.mark((function a(s){var r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{ContentType:"application/json"}},a.prev=1,a.next=4,W.a.put("/api/users/unfollow",{userId:e,unfollowId:t},r);case 4:s(K()),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error(a.t0),s({type:k,payload:a.t0});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},loadUser:K,deleteUser:function(){return function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.delete("/api/users/remove");case 3:console.log("deleted successfully"),t({type:h}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),t({type:k,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.userData,a=e.unFollow,r=e.loadUser,n=e.deleteUser;Object(s.useEffect)((function(){r()}),[r]);return t?Object($.jsx)("div",{className:"container mx-auto my-5 p-5",children:Object($.jsxs)("div",{className:"md:flex no-wrap md:-mx-2 ",children:[Object($.jsx)("div",{className:"w-full md:w-5/12 md:mx-2",children:Object($.jsxs)("div",{className:"bg-white p-3 border-t-4 border-blue-400",children:[Object($.jsx)("div",{className:"image overflow-hidden",children:Object($.jsx)("img",{className:"h-auto w-full mx-auto",src:t.avatarURL&&t.avatarURL?t.avatarURL:"https://s.clipartkey.com/mpngs/s/152-1520367_user-profile-default-image-png-clipart-png-download.png",alt:"personpic"})}),Object($.jsx)("h1",{className:"text-gray-900 font-bold text-xl leading-8 my-1",children:t.name}),Object($.jsx)("h3",{className:"text-gray-600 font-lg text-semibold leading-6",children:t.bio}),Object($.jsxs)("ul",{className:"bg-gray-100 text-gray-600 hover:text-gray-700 hover:shadow py-2 px-3 mt-3 divide-y rounded shadow-sm",children:[Object($.jsxs)("li",{className:"flex items-center py-3",children:[Object($.jsx)("span",{children:"Status"}),Object($.jsx)("span",{className:"ml-auto",children:Object($.jsx)("span",{className:"bg-green-500 py-1 px-2 rounded text-white text-sm",children:"Active"})})]}),Object($.jsxs)("li",{className:"flex items-center py-3",children:[Object($.jsx)("span",{children:"Delete Your Account"}),Object($.jsx)("span",{className:"ml-auto",children:Object($.jsx)("span",{className:"bg-red-500 py-1 px-2 rounded text-white \r text-sm cursor-pointer",onClick:function(){return n()},children:"Delete"})})]})]})]})}),Object($.jsx)("div",{className:"w-full md:w-9/12 mx-2 h-64",children:Object($.jsxs)("div",{className:"bg-white p-3 shadow-sm rounded-sm",children:[Object($.jsx)("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8",children:Object($.jsx)("span",{className:"tracking-wide",children:"Followers"})}),Object($.jsx)("div",{className:"text-gray-700",children:Object($.jsx)("div",{className:"grid md:grid-cols-2 text-sm",children:t.followers.map((function(e){return Object($.jsx)("div",{className:"shadow-lg rounded-2xl bg-white dark:bg-gray-800 \r p-4",children:Object($.jsxs)("div",{className:"flex-row gap-4 flex justify-center items-center",children:[Object($.jsx)("div",{className:"flex-shrink-0",children:Object($.jsx)("div",{className:"block relative",children:Object($.jsx)("img",{alt:"profil",src:"https://lavinephotography.com.au/wp-content/uploads/2017/01/PROFILE-Photography-112.jpg",className:"mx-auto object-cover rounded-full h-16 w-16 "})})}),Object($.jsx)("div",{className:" flex flex-col",children:Object($.jsx)("span",{className:"text-gray-600 dark:text-white text-lg font-medium",children:e.name})})]})},e._id)}))})}),Object($.jsx)("div",{className:"flex items-center space-x-2 \r font-semibold text-gray-900 leading-8 mt-2",children:Object($.jsx)("span",{className:"tracking-wide",children:"Following:"})}),Object($.jsx)("div",{className:"text-gray-700",children:Object($.jsx)("div",{className:"grid md:grid-cols-2 text-sm",children:t.following.map((function(e){return Object($.jsx)("div",{className:"shadow-lg rounded-2xl bg-white \r m-2 \r p-4",children:Object($.jsxs)("div",{className:"flex-row gap-4 flex justify-center items-center",children:[Object($.jsx)("div",{className:"flex-shrink-0",children:Object($.jsx)("div",{className:"block relative",children:Object($.jsx)("img",{alt:"profil",src:"https://lavinephotography.com.au/wp-content/uploads/2017/01/PROFILE-Photography-112.jpg",className:"mx-auto object-cover rounded-full h-16 w-16 "})})}),Object($.jsxs)("div",{className:" flex flex-col",children:[Object($.jsx)("span",{className:"text-gray-600 dark:text-white text-lg font-medium",children:e.name}),Object($.jsx)("button",{type:"button",className:"px-4 py-2 text-base border rounded-lg \r text-white bg-red-500 hover:bg-red-700 ",onClick:function(){return s=e._id,void a(t._id,s);var s},children:"UnFollow"})]})]})},e._id)}))})})]})})]})}):""})),ge=Object(o.b)((function(e){return{posts:e.postsData.posts,isLoading:e.postsData.loading,userData:e.userData.user}}),{getPosts:z})((function(e){var t=e.getPosts,a=e.posts,r=e.isLoading,n=e.userData;return Object(s.useEffect)((function(){t()}),[t]),r?Object($.jsx)(oe,{}):Object($.jsx)(s.Fragment,{children:Object($.jsx)("div",{children:a&&0===a.length?Object($.jsx)("p",{children:"No post to show"}):a&&n&&a.map((function(e){return Object($.jsx)(le,{postData:e},e._id)}))})})})),fe=Object(o.b)((function(e){return{userData:e.userData.user}}),null)((function(e){var t=e.userData;return Object($.jsx)("div",{children:t?Object($.jsx)(ge,{}):null})})),Oe=function(){return Object($.jsx)("div",{children:Object($.jsx)("div",{style:{position:"fixed",bottom:"0px",right:"0px",marginBottom:"20px",marginRight:"15px"},children:Object($.jsx)(l.b,{to:"/add-post",children:Object($.jsx)("button",{className:"p-0 w-16 h-16 bg-indigo-600 rounded-full \r hover:bg-red-500 \r active:shadow-lg mouse shadow \r transition ease-in duration-200 focus:outline-none",id:"modalBtn",children:Object($.jsx)("svg",{viewBox:"0 0 20 20",enableBackground:"new 0 0 20 20",className:"w-6 h-6 inline-block",children:Object($.jsx)("path",{fill:"#FFFFFF",d:"M16,10c0,0.553-0.048,1-0.601,1H11v4.399C11,15.951,10.553,16,10,16c-0.553,0-1-0.049-1-0.601V11H4.601\r C4.049,11,4,10.553,4,10c0-0.553,0.049-1,0.601-1H9V4.601C9,4.048,9.447,4,10,4c0.553,0,1,0.048,1,0.601V9h4.399\r C15.952,9,16,9.447,16,10z"})})})})})})},ve=Object(o.b)((function(e){return{userData:e.userData.user}}),{follow:function(e,t){return function(){var a=Object(G.a)(V.a.mark((function a(s){var r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{ContentType:"application/json"}},a.prev=1,a.next=4,W.a.put("/api/users/follow",{userId:e,followId:t},r);case 4:s(pe()),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error(a.t0),s({type:k,payload:a.t0});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.data,a=e.follow,s=e.userData;return Object($.jsxs)(ae.a.div,{className:"rounded-2xl w-80 p-4 border-2 border-indigo-200",layout:!0,children:[Object($.jsxs)("div",{className:"flex flex-row items-start gap-4",children:[Object($.jsx)("img",{src:t.avatarURL&&t.avatarURL?t.avatarURL:"https://s.clipartkey.com/mpngs/s/152-1520367_user-profile-default-image-png-clipart-png-download.png",className:"w-28 h-28 rounded-lg",alt:"person pic"}),Object($.jsxs)("div",{className:"h-28 w-full flex flex-col justify-between ml-2",children:[Object($.jsx)("div",{children:Object($.jsx)("p",{className:"text-gray-800 dark:text-white text-xl font-medium",children:t.name})}),Object($.jsx)("div",{className:"rounded-lg bg-blue-100 dark:bg-white p-2 w-full",children:Object($.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 dark:text-black",children:[Object($.jsxs)("p",{className:"flex flex-col",children:["Followers",Object($.jsx)("span",{className:"text-black dark:text-indigo-500 font-bold",children:t.followers.length})]}),Object($.jsxs)("p",{className:"flex flex-col",children:["Following",Object($.jsx)("span",{className:"text-black dark:text-indigo-500 font-bold",children:t.following.length})]})]})})]})]}),Object($.jsx)("div",{className:"flex items-center justify-end mt-6",children:Object($.jsx)("button",{type:"button",className:"w-1/2 px-4 py-2 text-base border rounded-lg \r text-white bg-indigo-500 hover:bg-indigo-700 ",onClick:function(){return a(s._id,t._id)},children:"follow"})})]})})),ye=Object(o.b)((function(e){return{findPeopleData:e.findPeopleData,isAuthenticated:e.userData.isAuthenticated}}),{findPeople:pe})((function(e){var t=e.findPeople,a=e.findPeopleData,r=e.isAuthenticated;return Object(s.useEffect)((function(){r&&t()}),[t,r]),a?Object($.jsxs)("div",{children:[Object($.jsx)("p",{className:"text-gray-600 text-lg font-semibold m-2",children:"Find People:"}),Object($.jsx)("div",{className:"grid grid-flow-col overflow-x-auto gap-4 ml-2",children:a&&0===a.lenght?Object($.jsx)("p",{children:"No one is there to follow!"}):a&&a.findPeople.map((function(e){return Object($.jsx)(ve,{data:e},e._id)}))})]}):""})),we=Object(o.b)(null,{updateDetails:function(e){return function(){var t=Object(G.a)(V.a.mark((function t(a){var s;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={headers:{ContentType:"application/json"}},t.prev=1,t.next=4,W.a.post("/api/users/update-details",e,s);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),a({type:k,payload:t.t0});case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.updateDetails,a=Object(s.useState)({avatarURL:"",bio:"",age:"",phoneNumber:"",gender:""}),r=Object(te.a)(a,2),n=r[0],c=r[1],l=Object(s.useState)({type:"",message:""}),o=Object(te.a)(l,2),i=o[0],d=o[1],u=n.bio,m=n.age,j=n.phoneNumber,x=n.gender,p=function(e){c(Object(b.a)(Object(b.a)({},n),{},Object(be.a)({},e.target.name,e.target.value)))},h=["image/jpeg","image/png"];return Object($.jsxs)("section",{className:"h-screen bg-gray-100 bg-opacity-50",children:[Object($.jsxs)("form",{className:"container max-w-2xl mx-auto\r shadow-md md:w-3/4",onSubmit:function(e){e.preventDefault(),u&&m&&j&&x?j.length<10?d(Object(b.a)(Object(b.a)({},i),{},{type:"warning",message:"Phone number must be valid!"})):(t(n),c({avatarURL:"",bio:"",age:"",phoneNumber:"",gender:""}),d(Object(b.a)(Object(b.a)({},i),{},{type:"success",message:"Details updated successfully!"}))):d(Object(b.a)(Object(b.a)({},i),{},{type:"warning",message:"Please enter all fields to continue!"}))},children:[Object($.jsx)("div",{className:"p-4 bg-gray-200 border-t-2 border-indigo-400 rounded-lg bg-opacity-5",children:Object($.jsx)("h1",{className:"text-gray-600 text-2xl",children:"Edit Details"})}),Object($.jsxs)("div",{className:"space-y-6 bg-white",children:[Object($.jsxs)("div",{className:"items-center w-full p-4 space-y-4 text-gray-500 md:inline-flex md:space-y-0",children:[Object($.jsx)("h2",{className:"max-w-sm mx-auto md:w-1/3",children:"Avatar (profile pic)"}),Object($.jsxs)("div",{className:"max-w-sm mx-auto md:w-2/3",children:[Object($.jsx)("div",{className:" relative ",children:Object($.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];if(h.includes(t.type)){var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){c(Object(b.a)(Object(b.a)({},n),{},{avatarURL:a.result}))}}else c(Object(b.a)(Object(b.a)({},n),{},{avatarURL:null}))}})}),Object($.jsx)("div",{})]})]}),Object($.jsx)("hr",{}),Object($.jsxs)("div",{className:"items-center w-full p-4 space-y-4 text-gray-500 md:inline-flex md:space-y-0",children:[Object($.jsx)("h2",{className:"max-w-sm mx-auto md:w-1/3",children:"Personal info"}),Object($.jsxs)("div",{className:"max-w-sm mx-auto space-y-5 md:w-2/3",children:[Object($.jsx)("div",{children:Object($.jsx)("input",{type:"text",name:"bio",value:u,onChange:p,className:" rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Bio (or) description"})}),Object($.jsx)("div",{children:Object($.jsx)("input",{type:"number",name:"age",value:m,onChange:p,className:" rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Age"})}),Object($.jsx)("div",{children:Object($.jsx)("input",{type:"text",name:"phoneNumber",value:j,onChange:p,className:" rounded-lg border-transparent flex-1 \r appearance-none border border-gray-300 w-full py-2 px-4 \r bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Phone number"})}),Object($.jsx)("div",{children:Object($.jsxs)("select",{className:"\r rounded-lg border-transparent flex-1 \r border border-gray-300 w-full py-2 px-4\r bg-white focus:text-gray-700 text-gray-400 \r shadow-sm text-base focus:outline-none ",name:"gender",value:x,onChange:p,children:[Object($.jsx)("option",{value:"",className:"text-gray-400",children:"Select an option"}),Object($.jsx)("option",{value:"male",children:"Male"}),Object($.jsx)("option",{value:"female",children:"Female"}),Object($.jsx)("option",{value:"others",children:"Others"})]})})]})]}),Object($.jsx)("hr",{}),Object($.jsx)("div",{className:"w-full px-4 pb-4 ml-auto text-gray-500 md:w-1/3",children:Object($.jsx)("button",{type:"submit",className:"py-2 px-4  \r bg-blue-600 hover:bg-blue-700 \r focus:ring-blue-500 focus:ring-offset-blue-200 \r text-white w-full transition ease-in duration-200 \r text-center text-base font-semibold shadow-md \r focus:outline-none focus:ring-2 focus:ring-offset-2  \r rounded-lg ",children:"Save"})})]})]}),i.message.length>0?Object($.jsx)(ce,{toastProp:i,setToast:d}):null]})})),Ne=function(){return Object($.jsx)("div",{className:"flex items-center",children:Object($.jsx)("div",{className:"container flex flex-col md:flex-row items-center justify-center px-5 text-gray-700",children:Object($.jsxs)("div",{className:"max-w-md",children:[Object($.jsx)("div",{className:"text-5xl font-dark font-bold",children:"404"}),Object($.jsx)("p",{className:"text-2xl md:text-3xl font-light leading-normal",children:"Sorry we couldn't find this page."}),Object($.jsx)("p",{className:"mb-8",children:"But dont worry, you can find plenty of other things on our homepage."}),Object($.jsx)(l.b,{to:"/",className:"px-4 inline py-2 text-sm font-medium leading-5 shadow text-white transition-colors duration-150 border border-transparent rounded-lg focus:outline-none focus:shadow-outline-blue bg-blue-600 active:bg-blue-600 hover:bg-blue-700",children:"back to homepage"})]})})})},ke=Object(o.b)((function(e){return{userData:e.userData}}),{loadUser:K,signInWithGoogle:X})((function(e){var t=e.loadUser,a=(e.userData,e.signInWithGoogle);return Object(s.useEffect)((function(){a(),t()}),[t,a]),Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(ue,{}),Object($.jsx)(Oe,{}),Object($.jsxs)(B.d,{children:[Object($.jsx)(ee,{exact:!0,path:"/",component:de}),Object($.jsx)(B.b,{exact:!0,path:"/login",component:me}),Object($.jsx)(B.b,{exact:!0,path:"/register",component:je}),Object($.jsx)(ee,{exact:!0,path:"/add-post",component:xe}),Object($.jsx)(ee,{exact:!0,path:"/profile",component:he}),Object($.jsx)(ee,{exact:!0,path:"/my-posts",component:fe}),Object($.jsx)(ee,{exact:!0,path:"/find-people",component:ye}),Object($.jsx)(ee,{exact:!0,path:"/edit-profile",component:we}),Object($.jsx)(B.b,{path:"*",component:Ne})]})]})})),De=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),s(e),r(e),n(e),c(e)}))};c.a.render(Object($.jsx)(r.a.StrictMode,{children:Object($.jsx)(l.a,{children:Object($.jsx)(o.a,{store:M,children:Object($.jsx)(ke,{})})})}),document.getElementById("root")),De()}},[[76,1,2]]]);
//# sourceMappingURL=main.0fdab7df.chunk.js.map